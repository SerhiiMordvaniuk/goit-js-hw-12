{"version":3,"file":"index.js","sources":["../src/js/render-function.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["\"use strict\"\n\n\nexport function createGallery(arr) {\n    return arr.map(item => \n        `\n            <li class=\"gallery-item\">\n                <a href=\"${item.largeImageURL}\">\n                <img class=\"galerry-img\" src=\"${item.webformatURL}\" alt=\"${item.tags}\" width=\"360\"/>\n                </a>\n                <div class=\"galerry-txt\">\n                    <div class=\"item-txt\">\n                        <p>Likes</p>\n                        <span class=\"item-span\">${item.likes}</span>\n                    </div>\n                    <div class=\"item-txt\">\n                        <p>Views</p>\n                        <span class=\"item-span\">${item.views}</span>\n                    </div>\n                    <div class=\"item-txt\">\n                        <p>Comments</p>\n                        <span class=\"item-span\">${item.comments}</span>\n                    </div>\n                    <div class=\"item-txt\">\n                        <p>Downloads</p>\n                        <span class=\"item-span\">${item.downloads}</span>\n                    </div>\n                </div>\n            </li>\n        `\n    ).join(\"\")\n}\n\n\n\n","\"use strict\"\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport axios from 'axios';\n\n\nimport { createGallery } from './render-function'\n\n\nconst API_KEY = \"46809908-9f97c0ef37b027eaa1f813844\";\nconst loader = document.querySelector('.loader'); \nconst gallery = document.querySelector(\".gallery-list\");\nconst loadBtn = document.querySelector('.load-btn')\n\n\nlet page = 1;\n\nexport  function searchImage() {\n\n\n    let params = new URLSearchParams({\n    key: API_KEY,\n    q: `${localStorage.getItem(\"search\")}`,\n    image_type: \"photo\",\n    orientation: \"horizontal\",\n    safesearch: true,\n    per_page: 15,\n    page: page,\n    })\n\n    loader.classList.remove('unvisible');\n    loadBtn.classList.add('unvisible');\n\n    gallery.innerHTML = \"\";\n    console.log(\"clin\");\n    \n\n\n    axios.get(`https://pixabay.com/api/?${params}`)\n        .then(data => {       \n            if (data.data.hits.length == 0) {\n                loader.classList.add('unvisible');\n                iziToast.error({\n                    message: 'Sorry, there are no images matching your search query. Please try again!',\n                    position: 'center',\n                    color: '#ca0000',\n                    messageColor: \"white\",\n                    close: true,\n                    timeout: 2000,\n                    progressBar: true,\n                    iconColor: \"white\",\n                    icon: false,\n                    maxWidth: \"300\"\n                });\n            }\n            else {\n                loader.classList.add('unvisible');\n                gallery.insertAdjacentHTML(\"beforebegin\", createGallery(data.data.hits));\n            \n                let lightbox = new SimpleLightbox('.gallery-item a', {\n                    disableScroll: false,\n                    overlayOpacity: 0.9,\n                    disableRightClick: true,\n                });\n                loadBtn.classList.remove('unvisible');\n                page++\n            }\n        })\n        .catch(error => {\n                loader.classList.add('unvisible');\n            iziToast.error({\n                message: `Oooops, error. Please try again!`,\n                position: 'center',\n                color: '#ca0000',\n                messageColor: \"white\",\n                close: true,\n                timeout: 2000,\n                progressBar: true,\n                iconColor: \"white\",\n                icon: false,\n                maxWidth: \"300\"\n            })\n        })\n    }\n\n\nloadBtn.addEventListener(\"click\", () => {\n    searchImage()\n})","\"use strict\"\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport { searchImage } from './js/pixabay-api'\n\nconst form = document.querySelector(\".form\");\nconst input = document.querySelector(\".input\");\nlet search = null;\n\nconst galleryContainer = document.querySelector(\".gallery\")\n\n\nform.addEventListener(\"submit\", (event) => {\n    event.preventDefault()\n    localStorage.removeItem(\"search\")\n    search = input.value\n    if (search.trim() === \"\") {\n        iziToast.error({\n                message: 'Enter your query',\n                position: 'center',\n                color: '#ca0000',\n                messageColor: \"white\",\n                close: false,\n                timeout: 1000,\n                progressBar: false,\n                iconColor: \"white\",\n                con: false,\n            });\n    }\n    else {\n        localStorage.setItem(\"search\", search )\n        searchImage()\n    }\n    form.reset()\n});\n\n"],"names":["createGallery","arr","item","API_KEY","loader","gallery","loadBtn","page","searchImage","params","axios","data","iziToast","SimpleLightbox","error","form","input","search","event"],"mappings":"wyBAGO,SAASA,EAAcC,EAAK,CAC/B,OAAOA,EAAI,IAAIC,GACX;AAAA;AAAA,2BAEmBA,EAAK,aAAa;AAAA,gDACGA,EAAK,YAAY,UAAUA,EAAK,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,kDAKlCA,EAAK,KAAK;AAAA;AAAA;AAAA;AAAA,kDAIVA,EAAK,KAAK;AAAA;AAAA;AAAA;AAAA,kDAIVA,EAAK,QAAQ;AAAA;AAAA;AAAA;AAAA,kDAIbA,EAAK,SAAS;AAAA;AAAA;AAAA;AAAA,SAKhE,EAAM,KAAK,EAAE,CACb,CClBA,MAAMC,EAAU,qCACVC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAU,SAAS,cAAc,eAAe,EAChDC,EAAU,SAAS,cAAc,WAAW,EAGlD,IAAIC,EAAO,EAEH,SAASC,GAAc,CAG3B,IAAIC,EAAS,IAAI,gBAAgB,CACjC,IAAKN,EACL,EAAG,GAAG,aAAa,QAAQ,QAAQ,CAAC,GACpC,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,SAAU,GACV,KAAMI,CACV,CAAK,EAEDH,EAAO,UAAU,OAAO,WAAW,EACnCE,EAAQ,UAAU,IAAI,WAAW,EAEjCD,EAAQ,UAAY,GACpB,QAAQ,IAAI,MAAM,EAIlBK,EAAM,IAAI,4BAA4BD,CAAM,EAAE,EACzC,KAAKE,GAAQ,CACNA,EAAK,KAAK,KAAK,QAAU,GACzBP,EAAO,UAAU,IAAI,WAAW,EAChCQ,EAAS,MAAM,CACX,QAAS,2EACT,SAAU,SACV,MAAO,UACP,aAAc,QACd,MAAO,GACP,QAAS,IACT,YAAa,GACb,UAAW,QACX,KAAM,GACN,SAAU,KAC9B,CAAiB,IAGDR,EAAO,UAAU,IAAI,WAAW,EAChCC,EAAQ,mBAAmB,cAAeL,EAAcW,EAAK,KAAK,IAAI,CAAC,EAExD,IAAIE,EAAe,kBAAmB,CACjD,cAAe,GACf,eAAgB,GAChB,kBAAmB,EACvC,CAAiB,EACDP,EAAQ,UAAU,OAAO,WAAW,EACpCC,IAEhB,CAAS,EACA,MAAMO,GAAS,CACRV,EAAO,UAAU,IAAI,WAAW,EACpCQ,EAAS,MAAM,CACX,QAAS,mCACT,SAAU,SACV,MAAO,UACP,aAAc,QACd,MAAO,GACP,QAAS,IACT,YAAa,GACb,UAAW,QACX,KAAM,GACN,SAAU,KAC1B,CAAa,CACb,CAAS,CACJ,CAGLN,EAAQ,iBAAiB,QAAS,IAAM,CACpCE,EAAa,CACjB,CAAC,ECtFD,MAAMO,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAQ,SAAS,cAAc,QAAQ,EAC7C,IAAIC,EAAS,KAEY,SAAS,cAAc,UAAU,EAG1DF,EAAK,iBAAiB,SAAWG,GAAU,CACvCA,EAAM,eAAgB,EACtB,aAAa,WAAW,QAAQ,EAChCD,EAASD,EAAM,MACXC,EAAO,KAAM,IAAK,GAClBL,EAAS,MAAM,CACP,QAAS,mBACT,SAAU,SACV,MAAO,UACP,aAAc,QACd,MAAO,GACP,QAAS,IACT,YAAa,GACb,UAAW,QACX,IAAK,EACrB,CAAa,GAGL,aAAa,QAAQ,SAAUK,CAAQ,EACvCT,EAAa,GAEjBO,EAAK,MAAO,CAChB,CAAC"}